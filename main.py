import discord
from discord.ext import commands
from random import choice
import asyncio

bot = commands.Bot(command_prefix="/", intents=discord.Intents.all())

@bot.command("start")
async def start(message):
    await message.send("""Привет! Этот бот расскажет тебе о сортировке мусора. Потом ты можешь пройти тест и проверить свои знания. Все команды:
                       1)команда /plastic выводит о сортировке пластика
                       2)команда /paper выводит о сортировке макулатуры
                       3)команда /glass выводит о сортировке стекла
                       4)команда /organic выводит о сортировке органических отходов
                       5)команда /metal выводит о сортировке металла
                       6)команда /test выводит сам тест
                        """)
    
@bot.command("plastic")
async def plastic(message):
    await message.send("""Обычно, пластик выбрасывают в контейнер оранжевого цвета. Пластмасса – довольно опасный вид отходов. В среднем на ее естественное разложение требуется от 100 до 400 лет, при этом выделяются опасные вещества, проникающие в почву и в водоемы, поэтому пластик нужно сортировать, чтобы потом его переработали.
                        Сдать пластмассы можно:
                        в стационарные пункты приема;
                        в специальные мусорные контейнеры;
                        в передвижные модули приема.
                        """)
    
@bot.command("paper")
async def paper(message):
    await message.send("""Обычно, бумагу выбрасывают в контейнер синего цвета. Производство бумаги приводит к значительным потерям воды, деревьев и электроэнергии, поэтому нужно сортировать бумагу, чтобы потом её переработали.
                        Это проэкологическая деятельность, благодаря которой:
                        экономятся природные, возобновляемые и невозобновляемые ресурсы планеты.
                        сокращается количество свалок.
                        вырабатывается вторичное сырье.
                       уменьшается углеродный след.
                        """)
    
@bot.command("glass")
async def glass(message):
    await message.send("""Обычно, стекло выбрасывают в контейнер зелёного цвета. Не рекомендуется выбрасывать хрусталь. Этот вид стекла содержит окись бария или свинца, поэтому не может получить вторую жизнь. небольшой кусочек стекла, может сыграть роль линзы - он «соберет» солнечные лучи в одну точку и если сфокусированный луч попадет на сухой материал, то пожар неизбежен, поэтому нужно сортировать стекло, чтобы потом переработали.
                        """)
    
@bot.command("organic")
async def organic(message):
    await message.send("""Обычно, органические отходы выбрасывают в контейнер серого цвета. Органические отходы разлагаются и выделяют свалочный газ, содержащий метан, углекислый газ и азот. Попадая в больших количествах в атмосферу, метан запускает процесс глобального потепления, поэтому нужно сортировать органические отходы, чтобы потом их переработали.
                        """)
    
@bot.command("metal")
async def metal(message):
    await message.send("""Обычно, металл выбрасывают в контейнер жёлтого цвета. Тяжелые металлы загрязняют все слои биосферы. В результате антропогенной нагрузки в атмосферу попадают выбросы дыма, пыли и аэрозоли, которые выпадают в виде кислотных дождей. Далее тяжелые металлы накапливаются в почве, а затем проникают в подземные воды, поэтому нужно сортировать органические отходы, чтобы потом их переработали.
                        """)
    
questions = {
  "в какого цвета контейнер нужно выбрасовать пластик?": ["оранжевый"],
  "в какого цвета контейнер нужно выбрасовать бумагу?": ["синий"],
  "в какого цвета контейнер нужно выбрасовать стекло?": ["зелёный"],
  "в какого цвета контейнер нужно выбрасовать органические отходы?": ["серый"],
  "в какого цвета контейнер нужно выбрасовать металл?": ["жёлтый"],
}

@bot.command("test")
async def test(ctx):
  await ctx.send("Начнем тест! Отвечайте на вопросы.")
  question, answers = choice(list(questions.items()))
  await ctx.send(question)
  try:
    msg = await bot.wait_for('message', timeout=10, check=lambda m: m.author == ctx.author)
  except asyncio.TimeoutError:
    await ctx.send("Время вышло!")
    return
  if msg.content.lower() in answers:
    await ctx.send("Правильно!")
  else:
    await ctx.send(f"Неверно. Правильный ответ: {', '.join(answers)}")

bot.run("1234")